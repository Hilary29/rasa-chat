version: "3.1"

rules:
- rule: Salutation
  steps:
  - intent: greet
  - action: utter_greet

- rule: Au revoir
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Remerciement
  steps:
  - intent: thank
  - action: utter_thank

- rule: Bot challenge
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Demande aide
  steps:
  - intent: ask_help
  - action: utter_help

- rule: Hors sujet
  steps:
  - intent: out_of_scope
  - action: utter_out_of_scope

- rule: Aide carte virtuelle
  steps:
  - intent: ask_help_card
  - action: utter_ask_help_card

- rule: Contact support
  steps:
  - intent: contact_support
  - action: utter_contact_support

- rule: Fallback
  steps:
  - intent: nlu_fallback
  - action: utter_default

- rule: Transfert générique - demander type
  steps:
  - intent: transfert
  - action: utter_ask_transfer_type

- rule: Mobile Money transfert complet avec slots
  condition:
  - slot_was_set:
    - amount
    - phone_number
  steps:
  - intent: mobile_money_transfert
  - action: utter_confirm_transfert

- rule: Confirmation transfert mobile money
  condition:
  - slot_was_set:
    - amount
    - phone_number
  steps:
  - intent: affirm
  - action: utter_transfert_init

- rule: Annulation transfert mobile money
  condition:
  - slot_was_set:
    - amount
    - phone_number
  steps:
  - intent: deny
  - action: utter_transfert_deny

- rule: Neero transfert complet avec slots
  condition:
  - slot_was_set:
    - amount
    - neero_id
  steps:
  - intent: neero_transfert
  - action: utter_confirm_neero_transfert

- rule: Confirmation neero transfert
  condition:
  - slot_was_set:
    - amount
    - neero_id
  steps:
  - intent: affirm
  - action: utter_neero_transfert_init

- rule: Annulation neero transfert
  condition:
  - slot_was_set:
    - amount
    - neero_id
  steps:
  - intent: deny
  - action: utter_neero_transfert_deny
