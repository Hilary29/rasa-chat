version: "3.1"

rules:
- rule: Salutation
  steps:
  - intent: greet
  - action: utter_greet

- rule: Au revoir
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Remerciement
  steps:
  - intent: thank
  - action: utter_thank

- rule: Bot challenge
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Demande aide
  steps:
  - intent: ask_help
  - action: utter_help

- rule: Hors sujet
  steps:
  - intent: out_of_scope
  - action: utter_out_of_scope

- rule: Recherche utilisateur API
  steps:
  - intent: get_user_info
  - action: action_get_user_info

- rule: Aide carte - menu principal
  steps:
  - intent: ask_help_card
  - action: utter_ask_help_card

- rule: Aide carte virtuelle
  steps:
  - intent: virtual_card_help
  - action: utter_virtual_card_help

- rule: Aide carte physique
  steps:
  - intent: physical_card_help
  - action: utter_physical_card_help

- rule: Définition carte physique
  steps:
  - intent: what_is_physical_card
  - action: utter_what_is_physical_card

- rule: Commander carte physique
  steps:
  - intent: create_physical_card
  - action: utter_create_physical_card

- rule: Utilisation carte physique
  steps:
  - intent: physical_card_usage
  - action: utter_physical_card_usage

- rule: Livraison carte physique
  steps:
  - intent: physical_card_delivery
  - action: utter_physical_card_delivery

- rule: Utilisation carte virtuelle
  steps:
  - intent: virtual_card_usage
  - action: utter_virtual_card_usage

- rule: Contact support
  steps:
  - intent: contact_support
  - action: utter_contact_support

- rule: Fallback
  steps:
  - intent: nlu_fallback
  - action: utter_default

- rule: Utilisateur ne peut pas être aidé
  steps:
  - intent: cant_help
  - action: utter_cant_help

- rule: Pourquoi Neero
  steps:
  - intent: why_neero
  - action: utter_why_neero

- rule: Smalltalk
  steps:
  - intent: smalltalk
  - action: utter_smalltalk

- rule: Transfert générique - demander type
  steps:
  - intent: transfert
  - action: utter_ask_transfer_type

- rule: Mobile Money transfert complet avec slots
  condition:
  - slot_was_set:
    - amount
    - phone_number
  steps:
  - intent: mobile_money_transfert
  - action: utter_confirm_transfert

- rule: Confirmation transfert mobile money
  condition:
  - slot_was_set:
    - amount
    - phone_number
  steps:
  - intent: affirm
  - action: utter_transfert_init
  - action: action_clear_transaction_slots

- rule: Annulation transfert mobile money
  condition:
  - slot_was_set:
    - amount
    - phone_number
  steps:
  - intent: deny
  - action: utter_transfert_deny
  - action: action_clear_transaction_slots

- rule: Neero transfert complet avec slots
  condition:
  - slot_was_set:
    - amount
    - neero_id
  steps:
  - intent: neero_transfert
  - action: utter_confirm_neero_transfert

- rule: Confirmation neero transfert
  condition:
  - slot_was_set:
    - amount
    - neero_id
  steps:
  - intent: affirm
  - action: utter_neero_transfert_init
  - action: action_clear_transaction_slots

- rule: Annulation neero transfert
  condition:
  - slot_was_set:
    - amount
    - neero_id
  steps:
  - intent: deny
  - action: utter_neero_transfert_deny
  - action: action_clear_transaction_slots
  
